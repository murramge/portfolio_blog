---
title: UI 라이브러리 <Headless 컴포넌트에 대해서>
date: '2023-04-06'
tags: ['component', 'headless', 'ui']
draft: false
summary: Example of a markdown file with code blocks and syntax highlighting
---

## Headless가 무엇일까요?

우리가 외부 ui 라이브러리를 사용할 경우, 유스케이스에 맞게 기능을 새로 추가하거나 변경하고 싶어도, 그에 맞게 디자인이나 기능을 수정하기 어려운 상황이 발생할 수 있다. 심지어 해당 라이브러리에 심각한 버그라도 있으면 언젠가는 무조건 바꿔야한다.
그러다 결국 우리는, 아 그냥 컴포넌트를 만들까? 라는 생각을 하게 된다. 

그래서 나온 개념이 headless UI component로, 기능은 있지만 스타일이 없는 컴포넌트를 의미한다.

## 컴포넌트 기반 UI 라이브러리 ? Headless UI 라이브러리 ?

언제나 headless 라이브러리가 컴포넌트 라이브러리보다 좋은건 아니다. 
모두 장단점이 존재하며, 상황에 맞게 사용하면 된다.

👉 어떤 상황에서 사용하는 것이 좋을까?

일단, 

컴포넌트 기반 ui 라이브러리는 기능과 스타일이 존재하는 라이브러리를 말하며, 대표적으로 material UI, ant design 이 있다.

장점 : 바로 사용할 수 있는 마크업과 스타일이 존재, 설정이 거의 필요 없음
단점 : 자유로운 마크업이 불가능, 스타일이 대부분 라이브러리에 있는 테마 기반으로만 변경할 수 있어서 한정적임, 큰 번들 사이즈

헤드리스 기반 ui 라이브러리는 기능은 있지만, 스타일이 없는 라이브러리로 Headless UI, Radix UI, Reach UI 등이 있다.

장점 : 마크업과 스타일을 완벽하게 제어 가능, 모든 스타일링 패턴 지원(css, css-in-js, ui라이브러리 등), 작은 번들 사이즈
단점 : 추가 설정이 필요함, 마크업, 스타일 혹은 테마 모두 지원되지 않음

- 디자인이 그렇게 중요하지 않고, 커스텀할 곳이 많지 않다면 component 기반 라이브러리를 사용하면 된다.
하지만, 반응형에 따라 디자인이 달라지고, 기능 변경이나 추가가 많이 발생한다면 headless 라이브러리가 유지보수에 더 좋다.

## Headless Component를 만드는 원칙

아직까지 headless 라이브러리에는 컴포넌트의 종류가 상대적으로 적다. 그래서 바로 사용해야 하는 컴포넌트가 없다면 만들어야 한다.
그렇다면 유지보수하기에 좋은 컴포넌트를 만드는 원칙이 무엇이 있고 어떤 것을 생각하며 만들어야 하는지 알아보자.

1. 만드려는 컴포넌트에 어떤 메서드가 있는 지를 먼저 결정하기보다, 그 컴포넌트가 무엇을 수행할 수 있는지 부터 결정해야 한다.
2. 사용자가 사용할 수 있는 기능들과 방법을 제공해야 한다. 기능은 이후에 어떻게 수행할 지 구현하면 된다.

여기서 중요한 점은, 기능은 어떻게 구현할 지는 컴포넌트 내부에 정의하는 것으로, 외부의 다른 컴포넌트들이나 사용자가 전혀 알지 않아도 된다.

## 편한 컴포넌트란?

1. 변경이 용이해야 한다.
2. 컴포넌트의 prop 로만 모든 것을 해결하려 하면 안된다.
3. 컴포넌트 로직을 깔끔하게 숨긴다고만 해서 무조건 좋은 것이 아니다.
4. 컴포넌트를 사용하는 입장을 고려해서 작성해야 한다.


## Headless Component 만들기

1. Compound Component

context를 이용해서 컴포넌트 묶음 내에서 필요한 state를 공유해서 만드는 패턴

- state를 공유하기 위한 context
- state를 제공하는 context provider
- state를 사용하는 component

장점 : 레이아웃과 스타일이 고정되지 않아서 자유롭게 수정할 수 있음
단점 : 코드가 매우 길어짐..

